#!/usr/bin/env ruby

require_relative '../lib/floss'

require 'gli'

# and then, there was fire.
class App
  extend GLI::App

  BASE = Floss::Utils.new

  program_desc 'Manage FLOSS Projects repositories.'
  version Floss::VERSION
  arguments :normal

  desc 'Archive Floss projects'
  command :archive do |c|
    c.action do
      Floss::Main.new(BASE, :archive).run
    end
  end

  desc 'Grab floss projects'
  command :grab do |c|
    c.action do
      Floss::Main.new(BASE, :grab).run
    end
  end
end

App.run(ARGV)
